<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Projet SIMPLonMARS3 - ">
        <meta name="author" content="Kevin">
        <title>Exercice - Scrolling Baxkground</title>
        <style>
*
{
    margin: 0;
    padding: 0;
    overflow: hidden;
}
            div#D
            {
                position: absolute;
                z-index: 1;
                width: 3840px;
                height: 2160px;
                background-image: url("img.jpg");
            }
        </style>
        <script>
let mouseX;
let mouseY;
let img;
let ratioW;
let ratioH;

let updateMouse = function()
{
    mouseX = event.clientX;
    mouseY = event.clientY;
}
let scrollBackground = function(img, ratioW, ratioH)
{
    img.style["top"] = -mouseY*ratioH + "px";
    img.style["left"] = -mouseX*ratioW + "px";
}

let ready = function()
{
    mouseX = window.innerWidth/2;
    mouseY = window.innerHeight/2;

    img = document.getElementById("D");
    ratioW = (img.offsetWidth - window.innerWidth)/window.innerWidth;
    ratioH = (img.offsetHeight - window.innerHeight)/window.innerHeight;

    document.addEventListener("mousemove", updateMouse);
    document.addEventListener("mousemove", function()
            {
                scrollBackground(img, ratioW, ratioH);
            });
}
document.addEventListener("DOMContentLoaded", ready);
        </script>
    </head>
    <body>

        <div id="D"></div>

    </body>
</html>
